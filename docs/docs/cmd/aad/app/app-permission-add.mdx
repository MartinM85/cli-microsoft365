import Global from '/docs/cmd/_global.mdx';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# aad app permission add

Adds the specified application and/or delegated permissions to a specified Entra ID app

## Usage

```sh
m365 aad app permission add [options]
```

## Options

```md definition-list
`-i, --appId [appId]`
: Client ID of the Entra ID app to add the API permissions to. Specify `appId` or `appObjectId` but not both.

`-o, --appObjectId [appObjectId]`
: Object ID of the Entra ID app to add the API permissions to. Specify `appId` or `appObjectId` but not both.

`-a, --applicationPermission [applicationPermission]`
: Space-separated list of application permissions to add. Specify at least `applicationPermission` or `delegatedPermission`.

`-d, --delegatedPermission [delegatedPermission]`
: Space-separated list of delegated permissions to add. Specify at least `applicationPermission` or `delegatedPermission`.

`--grandAdminConsent`
: When specified, grants application & delegated permissions through admin consent.
```

<Global />

## Remarks

Scopes/Roles to grant must be fully-qualified so that we can disambiguate them between the different resources.

## Examples

Grant multiple delegated API permissions to an Entra ID app specified by client id

```sh
m365 aad app permission add --appId 'f1417aa3-bf0b-4cc5-a845-a0b2cf11f690' --delegatedPermission 'https://management.azure.com/user_impersonation https://service.flow.microsoft.com/Flows.Read.All https://graph.microsoft.com/Agreement.Read.All'
```

Grant multiple delegated API permissions to an Entra ID app specified by object id

```sh
m365 aad app permission add --appObjectId 'e0306bb2-bf0b-4cc5-a845-a0b2cf11f690' --delegatedPermission 'https://management.azure.com/user_impersonation https://service.flow.microsoft.com/Flows.Read.All https://graph.microsoft.com/Agreement.Read.All'
```

Grant multiple app-only permissions to an Entra ID app specified by client id and grant admin consent

```sh
m365 aad app permission add --appId 'f1417aa3-bf0b-4cc5-a845-a0b2cf11f690' --applicationPermission 'https://graph.microsoft.com/Sites.FullControl.All https://microsoft.sharepoint-df.com/Sites.FullControl.All' --grandAdminConsent
```

## Response

The command won't return a response on success.